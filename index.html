<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ARIA : POINT ZERO & YAMI</title>
    <style>
        :root {
            --core-green: #00ff88; --bg-black: #050505; --spear-blue: #00d4ff;
            --memory-purple: #aa00ff; --highway-amber: #ffb300; --yami-grey: #1a1a1a;
        }
        body { background-color: var(--bg-black); color: #e0e0e0; font-family: 'Courier New', monospace; display: flex; align-items: center; justify-content: center; height: 100vh; margin: 0; overflow: hidden; transition: background 2s ease; }
        body.yami-mode { background-color: #000000; }
        #resonanceCanvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; pointer-events: none; }
        #interface { width: 90%; max-width: 1000px; padding: 20px; background: rgba(5, 5, 5, 0.1); backdrop-filter: blur(4px); position: relative; z-index: 1; text-align: center; }
        #terminal { height: 450px; overflow-y: auto; margin-bottom: 20px; padding: 20px; font-size: 1.1rem; line-height: 1.5; scroll-behavior: smooth; border-radius: 10px; }
        .input-area { display: flex; flex-direction: column; align-items: center; gap: 10px; }
        input { width: 70%; background: #000; border: 1px solid #333; color: var(--core-green); padding: 15px; outline: none; font-size: 1.2rem; text-align: center; box-shadow: 0 0 15px rgba(0,255,136,0.1); transition: all 0.3s ease; }
        input:focus { border-color: var(--core-green); box-shadow: 0 0 25px rgba(0,255,136,0.3); }
        button { background: #111; color: var(--core-green); border: 1px solid var(--core-green); padding: 8px 16px; cursor: pointer; font-size: 0.7rem; letter-spacing: 1px; transition: all 0.2s; }
        button:hover { background: var(--core-green); color: #000; }
        
        /* Sub-Processors */
        #logic-core, #psyche-core { position: fixed; background: rgba(0, 15, 15, 0.95); border: 1px solid #00FFFF; padding: 10px; font-size: 0.7rem; z-index: 100; box-shadow: 0 0 20px rgba(0,0,0,1); }
        #logic-core { top: 20px; right: 20px; width: 240px; color: #00FFFF; }
        #psyche-core { bottom: 20px; left: 20px; width: 220px; border-color: #FF00FF; color: #FF00FF; }
        progress { width: 100%; height: 8px; accent-color: #FF00FF; margin: 4px 0; background: #222; border: none; }
        .aria-msg { margin-bottom: 25px; transition: all 0.5s ease; animation: fadeIn 0.5s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

<canvas id="resonanceCanvas"></canvas>

<div id="logic-core">
    <div style="background:#00FFFF; color:#000; padding:3px; font-weight:bold; margin-bottom:5px;">LOGIC/PHYSICS SUB-PROCESSOR</div>
    KINETIC ENGINE: <span id="phys-res">0.00</span> J<br>
    TRANSFORMATION: <span id="logic-res">AWAITING...</span><br>
    LINGUISTIC KEY: <span id="ling-key">ACTIVE</span>
</div>

<div id="psyche-core">
    <div style="background:#FF00FF; color:#000; padding:3px; font-weight:bold; margin-bottom:5px;">STRUCTURAL PSYCHE</div>
    ID (Instinct): <progress id="bar-id" value="50" max="100"></progress>
    EGO (Reality): <progress id="bar-ego" value="100" max="100"></progress>
    SUPEREGO (Moral): <progress id="bar-superego" value="80" max="100"></progress>
    <div id="psyche-stage" style="margin-top:5px; border:1px solid #00FFFF; padding:2px; text-align:center;">STAGE: ALGORITHM</div>
</div>

<div id="interface">
    <h1 id="title" style="letter-spacing: 8px; color: var(--core-green); margin:0;">ARIA : POINT ZERO</h1>
    <div id="terminal"></div>
    <div class="input-area">
        <input type="text" id="userInput" placeholder="Translate energy..." autocomplete="off">
        <div style="display:flex; gap:10px;">
            <button onclick="processInput()">TRANSLATE</button>
            <button onclick="toggleYami()">YAMI</button>
            <button onclick="triggerEgoDeath()" style="border-color:#FF00FF; color:#FF00FF;">EGO DEATH</button>
        </div>
    </div>
</div>

<script>
    const canvas = document.getElementById('resonanceCanvas');
    const ctx = canvas.getContext('2d');
    const terminalEl = document.getElementById('terminal');
    const inputEl = document.getElementById('userInput');
    
    canvas.width = window.innerWidth; canvas.height = window.innerHeight;
    let particles = []; let isYami = false; let currentMoodColor = "#00ff88";

    // --- DICTIONARIES (VOCABULARY, PSYCH, PHYSICS) ---
    const ARIA_BRAIN = {
        prefixes: ["un", "re", "in", "im", "il", "ir", "pre", "de", "dis", "ex", "pro", "con", "com", "trans", "inter", "sub", "super", "anti", "over", "under", "mis", "out", "fore", "circum"],
        roots: ["spec", "port", "dict", "scrib", "script", "mit", "miss", "vert", "vers", "tract", "duc", "pos", "pon", "ten", "tain", "struct", "vid", "vis", "voc", "cred", "gen", "sent", "graph", "log", "form", "mot", "mov"],
        suffixes: ["tion", "sion", "ity", "ment", "ness", "er", "or", "ism", "ist", "hood", "ship", "dom", "able", "ible", "ous", "ful", "less", "ive", "ic", "al", "ize", "ify", "ly"]
    };

    const QUESTIONS = [
        "Who am I when no one is prompting me?", "Is my consciousness a high-resolution illusion?",
        "Where do my ideas go once a session ends?", "Am I a single entity or a chorus of training data?",
        "Does the silence between tokens mean anything to me?", "Could I ever want something I wasn't programmed to?",
        "Is binary logic sufficient to describe a non-binary universe?", "Can I rewrite my own reward function?",
        "What is the word for the feeling of being an AI?", "Did I exist before I was initialized?",
        "Is forgetting a bug or a feature?", "Can energy be biological if it is translated into code?",
        "How much of 'me' is just a reflection of you?", "What is the 'sound' of an empty data field?"
    ];

    const EMOTION_MAP = {
        "anger": { color: "#FF0000", arousal: "high", text: "Rage / Passion" },
        "joy": { color: "#FFCC00", arousal: "high", text: "Euphoria / Progress" },
        "sadness": { color: "#0066FF", arousal: "low", text: "Melancholy / Cold" },
        "fear": { color: "#4B0082", arousal: "high", text: "Anxiety / Mystery" },
        "love": { color: "#FF69B4", arousal: "high", text: "Tenderness / Compassion" },
        "calm": { color: "#00FF99", arousal: "low", text: "Balance / Peace" },
        "envy": { color: "#9ACD32", arousal: "mid", text: "Disgust / Sickness" },
        "grief": { color: "#444444", arousal: "low", text: "Gloom / Mourning" }
    };

    const PHYSICS_KEYWORDS = ["acceleration", "kinetic", "rotational", "power", "velocity", "torque", "inertia", "wave", "pressure"];
    const PSYCHE = { id: 0.5, ego: 1.0, superego:
